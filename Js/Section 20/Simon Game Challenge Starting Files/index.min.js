let buttons=document.querySelectorAll(".btn"),sequence=[],colors={yellow:1,blue:2,green:3,red:4},counter=0,levelCounter=1,onGame=!1;function addPressed(e){let t=document.querySelector("."+e);t.classList.add("pressed"),setTimeout((()=>{t.classList.remove("pressed")}),100)}function generateSequence(e){let t=0;for(let n=0;n<100;n++)t=Math.floor(4*Math.random())+1,e.push(t)}function changeBackgroundColor(){let e=document.querySelector("body");e.classList.add("game-over"),setTimeout((()=>{e.classList.remove("game-over")}),100)}function game(e,t,n){let o=e[t],c=Object.keys(n).find((e=>n[e]===o)),r=$("."+c);setTimeout((()=>{r.fadeTo("fast",0)}),500),setTimeout((()=>{r.fadeTo("fast",1)}),500)}function startGame(e){$("#level-title").text("Level 1"),generateSequence(e)}function verifySequence(e,t,n,o){return o[n]==e[t]?t+1:(changeBackgroundColor(),!1)}buttons.forEach((e=>{e.addEventListener("click",(()=>{if(1==onGame){let t=e.classList;addPressed(t[1]),checkSequence=verifySequence(sequence,counter,t[1],colors),0!=checkSequence?(counter=checkSequence,counter>=levelCounter&&(game(sequence,levelCounter,colors),$("#level-title").text("Level "+levelCounter),levelCounter+=1,counter=0)):(onGame=checkSequence,counter=0,levelCounter=1,sequence.length=0,$("#level-title").text("Game over! Press any key to restart"))}else{addPressed(e.classList[1]),changeBackgroundColor()}}))})),document.addEventListener("keydown",(()=>{0==sequence.length&&(startGame(sequence),onGame=!0,game(sequence,counter,colors))}));